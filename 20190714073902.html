<!-- build time:Sun Feb 06 2022 09:55:13 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta name="author" content="聆听·彼岸"><title>优化网页链接 | 聆听·彼岸的博客|闲人记闲文闲事 - 彼岸少年</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="hexo,JavaScript,经验,"><meta name="description" content="欢迎来到聆听·彼岸的博客，&lt;br&gt;这里记录着我的点点滴滴。&lt;br&gt;I have a dream.&lt;br&gt;And I will achieve it.&lt;br&gt;我有一个梦想。&lt;br&gt;而且我会实现它。"><script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script><link rel="stylesheet" href="/css/rico.css"><link rel="stylesheet" href="/css/sunburst.css"><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="32x32" href="/img/fa/main.jpg?v=5.1.4"><script src="/js/ricoHead.js"></script><link href="/music/tplayer.css" rel="stylesheet"><script src="/music/tplayer.js"></script><script src="/music/music.js"></script><script src="/randomimg.js"></script></head><body><div class="bg" id="bg"><div class="card no-select"><p class="head_name">Hi，聆听·彼岸</p><br><br><div class="subtitle"><i title="是真的！">听说，你是我最遥不可及的梦。<br>What should I do?<br>What should I do?<br>I think I'm going to fall in love with myself.<br></i></div></div></div><div class="GalMenu GalDropDown" id="rightmenu"><div class="circle" id="gal"><div class="ring"><a href="JavaScript:void(0)" style="top:15%;left:50%" onclick="this.href=&#39;/&#39;" class="menuItem">首页</a> <a href="JavaScript:void(0)" style="top:35%;left:15%" onclick="this.href=&#39;/长话短说/&#39;" class="menuItem">长话短说</a> <a href="JavaScript:void(0)" style="top:70%;left:15%" onclick="this.href=&#39;/简约导航/&#39;" class="menuItem">简约导航</a> <a href="JavaScript:void(0)" style="top:85%;left:50%" class="menuItem">搜索</a> <a href="JavaScript:void(0)" style="top:70%;left:85%" onclick="this.href=&#39;/friends/&#39;" class="menuItem">友链</a> <a href="JavaScript:void(0)" style="top:35%;left:85%" onclick="this.href=&#39;/archives/&#39;" class="menuItem">归档</a></div></div></div><header><ul class="n no-select"><a href="/"><li class="na" title="首页"><i class="fa fa-fw fa-home"></i></li></a><a href="/about/"><li class="na" title="关于"><i class="fa fa-fw fa-user"></i></li></a><a href="/tags/"><li class="na" title="标签"><i class="fa fa-fw fa-tags"></i></li></a><a href="/categories/"><li class="na" title="分类"><i class="fa fa-fw fa-th"></i></li></a><a href="/archives/"><li class="na" title="归档"><i class="fa fa-fw fa-archive"></i></li></a><a href="/friends/"><li class="na" title="友链"><i class="fa fa-fw fa-users"></i></li></a></ul></header><main id="main"><div class="post"><h2 class="post-title">优化网页链接</h2><span></span> <span class="post-time"><i class="fa fa-calendar-o"></i> 发表于 2019-07-14</span>| <span class="post-categories"><i class="fa fa-folder-o"></i> 分类于 <a href="/categories/hexo/">hexo</a> </span>| <span class="post-tags"><i class="fa fa-tag"></i> <a href="/tags/JavaScript/">JavaScript</a> <a href="/tags/经验/">经验</a> </span>| <span class="post-comment"><i class="fa fa-comment-o"></i> 评论数</span><div class="post-article"><br>于是心念一动之下，便着手了改变之法，一开始想到0.html，1.html这样排列下去<br>只需取文章总数，每次生成+1即可，找到博客根目录下的scaffolds/post.md<br>打开并模仿其他栏加了一栏<br><p></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">num: &#123;&#123; page.totle+1 &#125;&#125;</span><br></pre></td></tr></table></figure><p></p><p>没用，难道不可以运算？于是<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">num: &#123;&#123; page.totle &#125;&#125;</span><br></pre></td></tr></table></figure><p></p><p>还是没用，空空如也。没事，这只是开始，于是就到百度找答案，<br>忽然间注意到1563089942000日期，还是带时分秒的，那这一串数字不正好用来做链接吗？<br>而且，这辈子都不带重复的。<br>于是匆匆删掉num这一栏，打开博客根目录下的_config.yml<br>并在permalink这一行后面改成:date.html，hexo s一看，<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:4000/Thu%20Jul%2011%202019%2011:53:13%20GMT+0800.html</span><br></pre></td></tr></table></figure><p></p><p>这是什么鬼？不由得又有点失望，稍微静下心，开动脑筋。<br>还是第一个想法好，而我只需要找到运行的那个地方也就是新建文章后执行的代码再稍作修改，便可达到目的，可是那个地方在哪里？<br>不知道，不过我突然想起上次解决next主题老是报warn的merge-configs.js文件<br>进去打开，看着似熟悉似陌生的代码，不由得恍惚，<br>熟悉的是，这分明是JavaScript，陌生的是不晓得generateBefore是什么事件，<br>但我灵机一动，管他什么事件，JavaScript这是JavaScript，莫非那个post.md也可以用JavaScript？<br>继续回到博客根目录下的scaffolds/post.md输入<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">num: &#123;&#123; date &#125;&#125;.replace(&apos; &apos;,&apos;&apos;)</span><br></pre></td></tr></table></figure><p></p><p>还是没用。。。难道要把replace放到里面？于是<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">num: &#123;&#123; date.replace(&apos; &apos;,&apos;&apos;) &#125;&#125;</span><br></pre></td></tr></table></figure><p></p><p>再新建一个文章测试后，成了！！！虽然只换掉了个空格。<br>不过<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">num: &#123;&#123; date.replace(&apos; &apos;,&apos;&apos;).replace(&apos;-&apos;,&apos;&apos;).replace(&apos;:&apos;,&apos;&apos;).replace(&apos;-&apos;,&apos;&apos;).replace(&apos;:&apos;,&apos;&apos;) &#125;&#125;</span><br></pre></td></tr></table></figure><p></p><p>忽然有一种：<br>春风得意马蹄疾，<br>一日观尽长安花。<br>的感觉。<br>然后，博客根目录下的_config.yml：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">permalink: :num.html</span><br></pre></td></tr></table></figure><p></p><p>再手动给30多篇文章加上num…<br>当然，懒的话也可以写写程序跑一下，轻松加上，可惜我懒得不彻底，比如：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">打印(&apos;\nnum: &apos;+&apos;&apos;.replace(&apos; &apos;,&apos;&apos;).replace(&apos;-&apos;,&apos;&apos;).replace(&apos;:&apos;,&apos;&apos;).replace(&apos;-&apos;,&apos;&apos;).replace(&apos;:&apos;,&apos;&apos;))</span><br></pre></td></tr></table></figure><p></p><p>至此，解决！</p><br><div style="text-align:center">满分是10分的话，这篇文章你给几分，您的支持将鼓励我继续创作！</div><iframe src="https://yked.gitee.io/playing-reward/" style="overflow-x:hidden;overflow-y:hidden;border:0xp none #fff;min-height:240px;width:100%" frameborder="0" scrolling="no"></iframe><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者: </strong>聆听·彼岸</li><li class="post-copyright-link"><strong>本文链接: </strong><a href="https://ltba.github.io/20190714073902.html" title="优化网页链接">https://ltba.github.io/20190714073902.html</a></li><li class="post-copyright-license"><strong>版权声明: </strong>本站未注明转载的文章均为原创,所有文章除特别声明外,均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> 许可协议.转载请注明出处!</li></ul><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/20190711115313.html" rel="next" title="僵尸危机"><i class="fa fa-chevron-left"></i> 僵尸危机</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/20190718065357.html" rel="prev" title="无题——聆听·彼岸">无题——聆听·彼岸 <i class="fa fa-chevron-right"></i></a></div></div><aside id="directory"><div class="cl"></div></aside></div><div class="comments" id="comments"><div id="gitalk-container"></div></div></div></main><div class="footer"><div class="time"><span id="time"></span></div><div class="copyright">© 2019 <a href="https://yked.gitee.io">聆听·彼岸</a>. All Rights Reserved. Theme By 《空》.</div></div><div class="back-to-top"></div><script src="/js/rico.js"></script><div id="TPlayer"></div><script src="/music/player.js"></script><link rel="stylesheet" href="/css/gitalk.min.css"><script src="/js/gitalk.min.js"></script><script type="text/javascript">var gitalk=new Gitalk({clientID:"f57f0725ac5c431cb744",clientSecret:"e7b68dc9342d912a12cdc635ea0aa6e3c04ab3e9",repo:"comments",owner:"cai471600373",admin:["cai471600373"],id:location.pathname,distractionFreeMode:"true"});gitalk.render("gitalk-container")</script><script>!function(t){function n(){for(var n=0;n<e.length;n++)i=e[n],0<=(o=i.getBoundingClientRect()).top&&0<=o.left&&o.top<=(t.innerHeight||document.documentElement.clientHeight)&&function(){var t,i,o,c,r=e[n];t=r,i=function(){e=e.filter(function(t){return r!==t})},o=new Image,c=t.getAttribute("data-original"),o.onload=function(){t.src=c,i&&i()},o.src=c}();var i,o}var e=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));n(),t.addEventListener("scroll",function(){!function(t,n){clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(n)},500)}(n,t)})}(this)</script></body></html><!-- rebuild by neat -->