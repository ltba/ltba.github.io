<!-- build time:Sun Feb 06 2022 10:29:17 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta name="author" content="聆听·彼岸"><title>抓取云盘万能钥匙接口 | 聆听·彼岸的博客|闲人记闲文闲事 - 彼岸少年</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="技术,经验,技术,python,api,"><meta name="description" content="欢迎来到聆听·彼岸的博客，&lt;br&gt;这里记录着我的点点滴滴。&lt;br&gt;I have a dream.&lt;br&gt;And I will achieve it.&lt;br&gt;我有一个梦想。&lt;br&gt;而且我会实现它。"><script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script><link rel="stylesheet" href="/css/rico.css"><link rel="stylesheet" href="/css/sunburst.css"><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="32x32" href="/img/fa/main.jpg?v=5.1.4"><script src="/js/ricoHead.js"></script><link href="/music/tplayer.css" rel="stylesheet"><script src="/music/tplayer.js"></script><script src="/music/music.js"></script><script src="/randomimg.js"></script></head><body><div class="bg" id="bg"><div class="card no-select"><p class="head_name">Hi，聆听·彼岸</p><br><br><div class="subtitle"><i title="是真的！">听说，你是我最遥不可及的梦。<br>What should I do?<br>What should I do?<br>I think I'm going to fall in love with myself.<br></i></div></div></div><div class="GalMenu GalDropDown" id="rightmenu"><div class="circle" id="gal"><div class="ring"><a href="JavaScript:void(0)" style="top:15%;left:50%" onclick="this.href=&#39;/&#39;" class="menuItem">首页</a> <a href="JavaScript:void(0)" style="top:35%;left:15%" onclick="this.href=&#39;/长话短说/&#39;" class="menuItem">长话短说</a> <a href="JavaScript:void(0)" style="top:70%;left:15%" onclick="this.href=&#39;/简约导航/&#39;" class="menuItem">简约导航</a> <a href="JavaScript:void(0)" style="top:85%;left:50%" class="menuItem">搜索</a> <a href="JavaScript:void(0)" style="top:70%;left:85%" onclick="this.href=&#39;/friends/&#39;" class="menuItem">友链</a> <a href="JavaScript:void(0)" style="top:35%;left:85%" onclick="this.href=&#39;/archives/&#39;" class="menuItem">归档</a></div></div></div><header><ul class="n no-select"><a href="/"><li class="na" title="首页"><i class="fa fa-fw fa-home"></i></li></a><a href="/about/"><li class="na" title="关于"><i class="fa fa-fw fa-user"></i></li></a><a href="/tags/"><li class="na" title="标签"><i class="fa fa-fw fa-tags"></i></li></a><a href="/categories/"><li class="na" title="分类"><i class="fa fa-fw fa-th"></i></li></a><a href="/archives/"><li class="na" title="归档"><i class="fa fa-fw fa-archive"></i></li></a><a href="/friends/"><li class="na" title="友链"><i class="fa fa-fw fa-users"></i></li></a></ul></header><main id="main"><div class="post"><h2 class="post-title">抓取云盘万能钥匙接口</h2><span></span> <span class="post-time"><i class="fa fa-calendar-o"></i> 发表于 2019-03-31</span>| <span class="post-categories"><i class="fa fa-folder-o"></i> 分类于 <a href="/categories/技术/">技术</a> </span>| <span class="post-tags"><i class="fa fa-tag"></i> <a href="/tags/经验/">经验</a> <a href="/tags/技术/">技术</a> <a href="/tags/python/">python</a> <a href="/tags/api/">api</a> </span>| <span class="post-comment"><i class="fa fa-comment-o"></i> 评论数</span><div class="post-article"><p></p><h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><p>先送上这位特别嘉宾<br><a href="https://yked.gitee.io/go?url=http://ypsuperkey.meek.com.cn/query" target="_blank" rel="noopener">云盘万能钥匙</a><br><a href="https://yked.gitee.io/go?url=http://ypsuperkey.meek.com.cn/helps/intro" target="_blank" rel="noopener">官方介绍</a></p><h4 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h4><p>首先f12一波可得到类似以下链接<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://ypsuperkey.meek.com.cn/api/items/BDY-jIvuPA?access_key=4fxNbkKKJX2pAm3b8AEu2zT5d2MbqGbD&amp;client_version=web-client&amp;1553997935000</span><br></pre></td></tr></table></figure><p></p><p>然后发现它竟然还有<a href="https://yked.gitee.io/go?url=http://ypsuperkey.meek.com.cn/test" target="_blank" rel="noopener">效果测试页面</a><br>真是事半功倍啊！直接饮用它给出的有效链接和无效链接<br>得到下列结果<br>有效<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;_id&quot;: &quot;59f1e62f127b1e1479227812&quot;,</span><br><span class="line">  &quot;type&quot;: &quot;BDY&quot;,</span><br><span class="line">  &quot;pid&quot;: &quot;bJ1kWQ&quot;,</span><br><span class="line">  &quot;access_code&quot;: &quot;bmxd&quot;,</span><br><span class="line">  &quot;updated_at&quot;: &quot;2019-02-11 13:35:16&quot;,</span><br><span class="line">  &quot;created_at&quot;: &quot;2017-10-26 21:42:07&quot;,</span><br><span class="line">  &quot;referrer&quot;: &#123;</span><br><span class="line">    &quot;b0c4f4c136309b565f6e8695660d852e&quot;: &#123;</span><br><span class="line">      &quot;url&quot;: &quot;http://ypsuperkey.meek.com.cn/changelog&quot;,</span><br><span class="line">      &quot;title&quot;: &quot;更新记录 - 云盘万能钥匙&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;5ab0c52b2793ca341311eebdbcebc329&quot;: &#123;</span><br><span class="line">      &quot;url&quot;: &quot;https://ypsuperkey.meek.com.cn/&quot;,</span><br><span class="line">      &quot;title&quot;: &quot;undefined&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;c08fa55299fcf14d8bb34f43f8ee2bd5&quot;: &#123;</span><br><span class="line">      &quot;url&quot;: &quot;http://www.ypsuperkey.com/changelog&quot;,</span><br><span class="line">      &quot;title&quot;: &quot;更新记录 - 云盘万能钥匙&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;1e70faa0bea9e9d2d593e5c02012cd53&quot;: &#123;</span><br><span class="line">      &quot;url&quot;: &quot;https://www.ypsuperkey.com/changelog&quot;,</span><br><span class="line">      &quot;title&quot;: &quot;更新记录 - 云盘万能钥匙&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;fbe4023dc3be452c96a491f4621926f0&quot;: &#123;</span><br><span class="line">      &quot;url&quot;: &quot;http://www.sdbeta.com/wg/2017/1214/216884.html&quot;,</span><br><span class="line">      &quot;title&quot;: &quot;云盘万能钥匙2018中文版下载|云盘万能钥匙Chrome插件（云盘精灵）2018.7官方最新免费版-闪电下载吧&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;18ddf2ba0092217b59726b053d7a4155&quot;: &#123;</span><br><span class="line">      &quot;url&quot;: &quot;https://pan.baidu.com/&quot;,</span><br><span class="line">      &quot;title&quot;: &quot;undefined&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;059bdc2b679b68115940182f3236af37&quot;: &#123;</span><br><span class="line">      &quot;url&quot;: &quot;https://passport.baidu.com/phoenix/account/afterauth?mkey=phoenix7vVmbiNJB2s3mXPfDxgCu1OJq&amp;code=5B1A27CDCCFFD6A9A8F286072FA9C92C&amp;state=1540104171&quot;,</span><br><span class="line">      &quot;title&quot;: &quot;undefined&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;ac8a76f77410275d09f32b225ae164e4&quot;: &#123;</span><br><span class="line">      &quot;url&quot;: &quot;https://www.sdbeta.com/wg/2017/1214/216884.html&quot;,</span><br><span class="line">      &quot;title&quot;: &quot;云盘万能钥匙2018中文版下载|云盘万能钥匙Chrome插件（云盘精灵）2018.11官方最新免费版-闪电下载吧&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;ffc813f1cd45b9bc3e728be475051ef7&quot;: &#123;</span><br><span class="line">      &quot;url&quot;: &quot;https://passport.baidu.com/phoenix/account/afterauth?mkey=6cf164dae22edd88d53e0223e155c9a7ba4ce5&amp;state=1545381242&amp;code=7c6760881fce4e5608fd76a69c79bb71&quot;,</span><br><span class="line">      &quot;title&quot;: &quot;undefined&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;2a87808c5df463941e04487adbd5d2e3&quot;: &#123;</span><br><span class="line">      &quot;url&quot;: &quot;https://d.appinn.com/toastcode-screener/&quot;,</span><br><span class="line">      &quot;title&quot;: &quot;undefined&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;ed31984969c2818ff635281343f5da67&quot;: &#123;</span><br><span class="line">      &quot;url&quot;: &quot;https://d.appinn.com/&quot;,</span><br><span class="line">      &quot;title&quot;: &quot;undefined&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;state&quot;: &quot;VALID&quot;,</span><br><span class="line">  &quot;invalid_count&quot;: 0</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>无效<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;_id&quot;: &quot;5a1ea43d127b1e51e9408dc5&quot;,</span><br><span class="line">  &quot;type&quot;: &quot;BDY&quot;,</span><br><span class="line">  &quot;pid&quot;: &quot;dtT3i7y&quot;,</span><br><span class="line">  &quot;referrer&quot;: &#123;</span><br><span class="line">    &quot;35ce4c2dc24c5b82c247c7a4cca058a4&quot;: &#123;</span><br><span class="line">      &quot;url&quot;: &quot;http://ypsuperkey.meek.com.cn/test&quot;,</span><br><span class="line">      &quot;title&quot;: &quot;测试页面 - 云盘万能钥匙&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;3d1351b4e3f993f128651e0fd8d3dd50&quot;: &#123;</span><br><span class="line">      &quot;url&quot;: &quot;http://ypsuperkey-dev.meek.com.cn/test&quot;,</span><br><span class="line">      &quot;title&quot;: &quot;测试页面 - 云盘万能钥匙&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;ea7d6eaf87f10f95422c93127b0711cf&quot;: &#123;</span><br><span class="line">      &quot;url&quot;: &quot;http://www.ypsuperkey.com/test&quot;,</span><br><span class="line">      &quot;title&quot;: &quot;测试页面 - 云盘万能钥匙&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;cd7246ff5911fda5ea72f4a4684a564b&quot;: &#123;</span><br><span class="line">      &quot;url&quot;: &quot;https://ypsuperkey.meek.com.cn/test&quot;,</span><br><span class="line">      &quot;title&quot;: &quot;测试页面 - 云盘万能钥匙&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;a60543ee761acc38b7c94e0fd9dff21b&quot;: &#123;</span><br><span class="line">      &quot;url&quot;: &quot;http://ma.ttfak.com/test/&quot;,</span><br><span class="line">      &quot;title&quot;: &quot;测试页面 - 云盘万能钥匙&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;abcf4a784a658f5a2de7e2ab4dc68254&quot;: &#123;</span><br><span class="line">      &quot;url&quot;: &quot;http://ypsuperkey.meek.com.cn/&quot;,</span><br><span class="line">      &quot;title&quot;: &quot;undefined&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;updated_at&quot;: &quot;2019-03-31 08:37:14&quot;,</span><br><span class="line">  &quot;created_at&quot;: &quot;2017-11-29 20:12:45&quot;,</span><br><span class="line">  &quot;state&quot;: &quot;INVALID&quot;,</span><br><span class="line">  &quot;invalid_count&quot;: 0</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>通过观察可以发现state状态码，判断资源是否有效，access_code资源密码</p><h4 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h4><p>接口如下<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;http://ypsuperkey.meek.com.cn/api/items/BDY-&quot;+pid+&quot;?access_key=4fxNbkKKJX2pAm3b8AEu2zT5d2MbqGbD&amp;client_version=web-client&amp;1553997935000&quot;</span><br></pre></td></tr></table></figure><p></p><p>最后的那串数字似乎是时间戳，不过似乎没多大影响，先不鸟它<br>那只剩下一个变量，pid<br>pid是什么呢？经观察发现是这样的<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://pan.baidu.com/s/1qYLrSOs</span><br><span class="line">https://pan.baidu.com/s/pid</span><br></pre></td></tr></table></figure><p></p><p>有了这些东西，再看看接口，没有跨域请求头，就不能用网页，只能用python了。</p><ul><li>URL: “<a href="http://ypsuperkey.meek.com.cn/api/items/BDY-&quot;+pid" target="_blank" rel="noopener">http://ypsuperkey.meek.com.cn/api/items/BDY-&quot;+pid</a></li><li>Type: GET</li><li>pid: 看上面</li><li>access_key: 默认值4fxNbkKKJX2pAm3b8AEu2zT5d2MbqGbD</li><li>client_version: 默认值web-client</li><li>1553997935000: 为空，猜测这串数字(即参数名)为时间戳</li></ul><h4 id="python代码"><a href="#python代码" class="headerlink" title="python代码"></a>python代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">        url = input(<span class="string">"请输入正确的百度网盘分享链接："</span>)</span><br><span class="line">        <span class="keyword">if</span> url.find(<span class="string">"1"</span>) != <span class="number">-1</span>:</span><br><span class="line">            pid = url[url.find(<span class="string">"1"</span>)+<span class="number">1</span>:]</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">elif</span> url.find(<span class="string">"="</span>) != <span class="number">-1</span>:</span><br><span class="line">            pid = url[url.find(<span class="string">"="</span>)+<span class="number">1</span>:]</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    url1 = <span class="string">"http://ypsuperkey.meek.com.cn/api/items/BDY-"</span> + pid + <span class="string">"?access_key=4fxNbkKKJX2pAm3b8AEu2zT5d2MbqGbD&amp;client_version=web-client&amp;1553997935000"</span></span><br><span class="line">    res = requests.get(url1)</span><br><span class="line">    data = json.loads(res.text)</span><br><span class="line">    state = data[<span class="string">"state"</span>]</span><br><span class="line">    <span class="keyword">if</span> state == <span class="string">"INVALID"</span>:</span><br><span class="line">        print(<span class="string">"啊欧！该链接暂时找不到密码！"</span>)</span><br><span class="line">    <span class="keyword">elif</span> state == <span class="string">"VALID"</span>:</span><br><span class="line">        print(<span class="string">"\n链接：%s\n密码：%s"</span> % (url,data[<span class="string">"access_code"</span>]))</span><br><span class="line">    print(<span class="string">"Ctrl + C 退出！"</span>)</span><br></pre></td></tr></table></figure><br><div style="text-align:center">满分是10分的话，这篇文章你给几分，您的支持将鼓励我继续创作！</div><iframe src="https://yked.gitee.io/playing-reward/" style="overflow-x:hidden;overflow-y:hidden;border:0xp none #fff;min-height:240px;width:100%" frameborder="0" scrolling="no"></iframe><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者: </strong>聆听·彼岸</li><li class="post-copyright-link"><strong>本文链接: </strong><a href="https://ltba.github.io/20190331101437.html" title="抓取云盘万能钥匙接口">https://ltba.github.io/20190331101437.html</a></li><li class="post-copyright-license"><strong>版权声明: </strong>本站未注明转载的文章均为原创,所有文章除特别声明外,均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> 许可协议.转载请注明出处!</li></ul><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/20190330175733.html" rel="next" title="Referrer你从哪里来？"><i class="fa fa-chevron-left"></i> Referrer你从哪里来？</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/20190402183244.html" rel="prev" title="JavaScript网页化">JavaScript网页化 <i class="fa fa-chevron-right"></i></a></div></div><aside id="directory"><div class="cl"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#前言"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#过程"><span class="toc-text">过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#接口"><span class="toc-text">接口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#python代码"><span class="toc-text">python代码</span></a></li></ol></div></aside></div><div class="comments" id="comments"><div id="gitalk-container"></div></div></div></main><div class="footer"><div class="time"><span id="time"></span></div><div class="copyright">© 2019 <a href="https://yked.gitee.io">聆听·彼岸</a>. All Rights Reserved. Theme By 《空》.</div></div><div class="back-to-top"></div><script src="/js/rico.js"></script><div id="TPlayer"></div><script src="/music/player.js"></script><link rel="stylesheet" href="/css/gitalk.min.css"><script src="/js/gitalk.min.js"></script><script type="text/javascript">var gitalk=new Gitalk({clientID:"f57f0725ac5c431cb744",clientSecret:"e7b68dc9342d912a12cdc635ea0aa6e3c04ab3e9",repo:"comments",owner:"cai471600373",admin:["cai471600373"],id:location.pathname,distractionFreeMode:"true"});gitalk.render("gitalk-container")</script><script>!function(t){function n(){for(var n=0;n<e.length;n++)i=e[n],0<=(o=i.getBoundingClientRect()).top&&0<=o.left&&o.top<=(t.innerHeight||document.documentElement.clientHeight)&&function(){var t,i,o,c,r=e[n];t=r,i=function(){e=e.filter(function(t){return r!==t})},o=new Image,c=t.getAttribute("data-original"),o.onload=function(){t.src=c,i&&i()},o.src=c}();var i,o}var e=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));n(),t.addEventListener("scroll",function(){!function(t,n){clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(n)},500)}(n,t)})}(this)</script></body></html><!-- rebuild by neat -->